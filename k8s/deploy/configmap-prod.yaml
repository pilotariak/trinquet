# Copyright (C) 2016-2019 Nicolas Lamirault <nicolas.lamirault@gmail.com>

# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: v1
kind: ConfigMap
metadata:
  name: __KUBE_APP__-config
  namespace: __KUBE_NAMESPACE__
data:
  diablo.toml: |
    # Diablo configuration file

    # Storage backend
    backend = "boltdb"

    [api]
    grpcPort = 8080
    restPort = 9090

    [boltdb]
    file = "/tmp/ut.db"
    bucket = "trinquet"

    [auth]
    name = "BasicAuth"
    # name = "vault"

    [auth.vault]
    address = "http://localhost:8200"
    roleid = "f9bdcf11-fb7f-119b-853a-e74bde982706"
    secretid = "5076619e-5072-58f2-44ab-9d2febe273ac"
    healthuser = "health"
    healthkey = "e5ab2920-25f9-4dcd-9182-e3847dce67ab"

